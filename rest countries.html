<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>rest countries</title>
    <link rel="stylesheet" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    
</head>
<body>

  <div class="tam"></div>

    
    <script>

      const api1= "006099946b383148034031b8ceabb786";

      

        function tamizh(a,b){

          const weatherurl =`https://api.openweathermap.org/data/2.5/weather?lat=${a}&lon=${b}&appid=${api1}`;

          /* alert(`${a},${b}`); */

         fetch(weatherurl).then(res=>res.json()).then(x=>{
         console.log(x.weather[0].main);
         alert("weather:"+x.weather[0].main+", "+x.weather[0].description)
        })
       }

        let country=fetch("https://restcountries.com/v3.1/all")
        .then(res=>res.json())
        .then((x)=>x.forEach((y) => {
            document.write(`
          <div>
            <img src="${y.flags.svg}"} width=200px heigth=200px>
            <h1>COUNTRY: ${y.name.common}</h1>
            <p>POPULATION: ${y.population}</p>
            
            <button onclick="tamizh(${y.latlng[0]},${y.latlng[1]})">click for weather</button>
            <br>
            <br>
            <hr>
          </div>
          ` ); }))
       





    </script>
    
</body>
</html>